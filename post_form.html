<html>
<head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>
  $(function () {
      //alert('here1');
      var request = $.ajax({
          headers: {
              "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoic2NvdHQiLCJ1c2VybmFtZSI6InNuZWR2ZXNreSIsImlhdCI6MTQ5Mzc5MTIyNywiZXhwIjoxNDk0MDUwNDI3fQ.UwWkUa_XNRbtR-YbNDrq7DVWxpqhEkASf1qo5THScXY"
          },
          crossDomain: true,
          url: "http://kelseyrocklin-test.apigee.net/final/recipes",
          type: "GET",
          dataType: "json"
      });

      request.done(function (msg, textStatus, jqXHR) {
          alert(jqXHR.getAllResponseHeaders());
         $('#response').text(JSON.stringify(msg));
      });

      request.fail(function (jqXHR, textStatus, errorThrown) {
          alert('Request failed: ' + textStatus + ' ' + errorThrown);
          alert(jqXHR.responseJSON);
      });

      //post example
      var data = {
          "title" : "buttered toast7",
          "ingredient" : "breadnbuttq",
          "ingredient" : "bread",
          "direction" : "Toast and eat"
      }

      var request2 = $.ajax({
          headers: {
              "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoic2NvdHQiLCJ1c2VybmFtZSI6InNuZWR2ZXNreSIsImlhdCI6MTQ5Mzc5MTIyNywiZXhwIjoxNDk0MDUwNDI3fQ.UwWkUa_XNRbtR-YbNDrq7DVWxpqhEkASf1qo5THScXY"
          },
          crossDomain: true,
          url: "http://kelseyrocklin-test.apigee.net/final/recipes",
          type: "POST",
          data: data
      });

      request2.done(function (msg, textStatus, jqXHR) {
          alert(jqXHR.getAllResponseHeaders());
          $('#response2').text(JSON.stringify(msg));
      });

      rerequest2.fail(function (jqXHR, textStatus, errorThrown) {
          alert('Request failed: ' + textStatus + ' ' + errorThrown);
          alert(jqXHR.responseJSON);
      });

  });
</script>
</head>
<body>
<h3>example</h3>
<div id="response">y</div>
<div id="response2">z</div>
</body>
</html>
